#summary Run pchart4mw as webservice

=== Introduction ===
pChart4mw has the option to use it as a webservice to generate the charts. This can be useful is you want to use a different server to create the chart images. You can use the pChartwebservice.php or create your own webservice.

<font size="2" color="#FF7F2A">!! Note: This is advanced use and will be documented later. The documentation on this page is as-is and incomplete !!</font>



=== Configuration ===

If you leave this parameter emtpy, no webservice is used. That is also the default value.
To use it as a webservice add the following line to `LocalSettings.php`:
{{{
$wgPChart4mwWebservice = "http://localhost:8000/wiki/extensions/pChart4mw/pChartWebservice.php";
}}}

===Installing the webservice===
pChart4mw contains a PHP file that functions as a webservice. To use the webservice, you should install pChart4mw both on the server where the wiki is and also on the server where the charts should be generated. When using the webservice, most parameters set in this file do not have any effect. The parameters should be set in the webservice file itself.

It is also possible to use a different webservice. You can build your own or use a webservice somebody else created. There are a few requirements for the webservice.
 # The webservice must be able to handle a HTTP GET request.
 # The webservice should accept a parameter called _data and a parameter called _type (see below for details).
 # The webservice should output the image contents directly.

===Parameters===
The webservice should accept a parameter called _data. This parameter contains all data to generate the chart, just as it is entered by the user in the wiki. Newlines are converted to literal '|', in order to get all data on one line. 

Another parameter is _type. It contains the type of chart to be generated. The type can be 
 * bars
 * lines
 * pie
 * radar
 * scatter
 * bubble

All other arguments are given by [key]=[value] pairs, just as they are entered by the user in the wiki. Arguments without a value will contain the name of the argument as value.

For example wikitext like this
{{{
<pBars size=300x200 legend opacity=60>
Sep,3871
Oct,3500
Nov,3667
Dec,1994
</pBars>
}}}
will produce a HTTP request like this
{{{
http://webservice?_type=bars&_data=Sep,3871|Oct,3500|Nov,3667|Dec,1994&size=300x200&legend=legend&opacity=60
}}}

The different parameters are 
{|

|_type
|bars
|-
|_data
|Sep,3871|Oct,3500|Nov,3667|Dec,1994
|-
|size
|300x200
|-
|legend
|legend
|-
|opacity
|60
|}